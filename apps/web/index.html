<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ATLAS</title>
  </head>
  <body>
    <div id="app" class="app">
      <header class="hero">
        <div class="badge">IAQUIZU</div>
        <h1>ATLAS</h1>
        <p class="subtitle">Agenda premium en calma.</p>
      </header>
      <section class="panel" id="booking-panel" data-panel-booking aria-busy="false">
        <h2 class="panel-title">Reservar</h2>
        <p class="panel-copy">Tres pasos, una reserva clara.</p>
        <div class="subsection" id="auth-panel" data-panel-auth aria-busy="false">
          <div class="subsection-title">Acceso</div>
          <div class="auth-grid">
            <div class="card">
              <label class="label" for="auth-email">Email</label>
              <div class="auth-row">
                <input class="field" id="auth-email" type="email" placeholder="demo@atlas.local" data-auth-email aria-label="Email" />
                <button class="button" type="button" data-auth-request>Enviar link</button>
              </div>
              <div class="note" data-auth-message aria-live="polite">--</div>
            </div>
            <div class="card">
              <div class="label">Sesion</div>
              <div class="value" data-auth-status>Sesion cerrada</div>
              <div class="note" data-auth-user aria-live="polite">--</div>
              <div class="button-row">
                <button class="button ghost" type="button" data-auth-refresh>Actualizar</button>
                <button class="button ghost" type="button" data-auth-logout>Cerrar sesion</button>
              </div>
            </div>
            <div class="card">
              <div class="label">Instrucciones</div>
              <div class="note" data-auth-helper aria-live="polite">Usa tu email para recibir un link.</div>
              <div class="devlink" data-auth-devlink hidden>
                <div class="auth-row devlink-row">
                  <input class="field" type="text" data-auth-devlink-input aria-label="Link de acceso DEV" readonly />
                  <button class="button ghost" type="button" data-auth-devlink-copy>Copiar</button>
                  <button class="button" type="button" data-auth-devlink-open>Abrir</button>
                </div>
                <div class="note" data-auth-helper-extra aria-live="polite">Si el correo no llega, usa este acceso (DEV).</div>
              </div>
            </div>
          </div>
        </div>
        <div class="subsection">
          <div class="subsection-title">Tu horario</div>
          <div class="booking-grid">
          <div class="card service-card" data-services-card data-has-selection="false">
            <label class="label" for="service-select">Paso 1: Servicio</label>
            <div class="note" data-services-state aria-live="polite">Cargando...</div>
            <div class="summary-card summary-card--compact" data-services-summary hidden>
              <div class="summary-title">Servicio seleccionado</div>
              <div class="summary-main" data-services-summary-name>—</div>
              <div class="summary-meta" data-services-summary-duration-row>
                <span data-services-summary-duration>Duracion: —</span>
              </div>
            </div>
            <select class="field" id="service-select" data-services-select aria-label="Selecciona un servicio" disabled>
              <option value="">Selecciona un servicio</option>
            </select>
            <div class="note hint" data-services-hint aria-live="polite">Elegi un servicio para ver horarios.</div>
            <button class="button ghost" type="button" data-services-retry disabled>Reintentar</button>
          </div>
          <div class="card">
            <label class="label" for="booking-date">Paso 2: Fecha</label>
            <input class="field" id="booking-date" type="date" data-booking-date aria-label="Selecciona una fecha" disabled />
            <div class="preset-row">
              <button class="button ghost preset-button" type="button" data-date-today>Hoy</button>
              <button class="button ghost preset-button" type="button" data-date-tomorrow>Manana</button>
              <button class="button ghost preset-button" type="button" data-date-week>Prox. 7 dias</button>
            </div>
            <div class="note" data-availability-state aria-live="polite">Selecciona servicio y fecha</div>
            <div class="slots slots-scroll" data-availability-slots role="list"></div>
            <button class="button ghost" type="button" data-availability-retry disabled>Reintentar</button>
          </div>
          <div class="card">
            <div class="label">Paso 3: Confirmar</div>
            <div class="summary-card">
              <div class="summary-title">Resumen</div>
              <div class="summary-list">
                <div class="summary-row kv">
                  <span class="summary-label kv-label">Servicio</span>
                  <span class="summary-value kv-value" data-booking-summary-service>&mdash;</span>
                </div>
                <div class="summary-row kv">
                  <span class="summary-label kv-label">Fecha</span>
                  <span class="summary-value kv-value" data-booking-summary-date>&mdash;</span>
                </div>
                <div class="summary-row kv">
                  <span class="summary-label kv-label">Hora</span>
                  <span class="summary-value kv-value" data-booking-summary-time>&mdash;</span>
                </div>
              </div>
            </div>
            <div class="note" data-booking-message aria-live="polite"></div>
            <div class="confirm-actions">
              <button class="button cta" type="button" data-booking-confirm disabled>Confirmar reserva</button>
            </div>
            <div class="note" data-booking-confirmation aria-live="polite"></div>
          </div>
          </div>
        </div>
      </section>
      <section class="panel" id="bookings-panel" data-panel-bookings aria-busy="false">
        <h2 class="panel-title">Mis reservas</h2>
        <p class="panel-copy">Tus reservas activas e historicas, en calma.</p>
        <details class="history history-active accordion-premium" data-bookings-active open>
          <summary class="history-summary accordion-summary" data-bookings-active-summary>Activas (0)</summary>
          <div class="accordion-body">
            <div class="note" data-bookings-state aria-live="polite">Cargando...</div>
            <div class="note" data-bookings-cta aria-live="polite"></div>
            <div class="booking-list" data-bookings-active-list role="list"></div>
            <button class="button ghost" type="button" data-bookings-retry disabled>Reintentar</button>
          </div>
        </details>
        <details class="history history-muted accordion-premium" data-bookings-history>
          <summary class="history-summary accordion-summary" data-bookings-history-summary>Historial (0)</summary>
          <div class="accordion-body">
            <div class="note" data-bookings-history-state aria-live="polite"></div>
            <div class="booking-list history-list" data-bookings-history-list role="list"></div>
          </div>
        </details>
      </section>
      <section class="panel" id="admin-panel" data-panel-admin aria-busy="false">
        <div class="panel-header">
          <div>
            <h2 class="panel-title">Administracion</h2>
            <p class="panel-copy" data-admin-mode-note>Uso interno.</p>
          </div>
          <button class="button ghost" type="button" data-admin-mode-toggle>Activar modo admin</button>
        </div>
        <div class="admin-body" data-admin-body hidden>
          <details class="admin-section accordion-premium admin-access" open>
            <summary class="admin-summary accordion-summary">Acceso de administracion</summary>
            <div class="accordion-body">
              <div class="card admin-card">
                <div class="note" data-admin-status aria-live="polite">Sin acceso.</div>
                <div class="note" data-admin-access-note aria-live="polite">Ingresa el token para continuar.</div>
                <div class="auth-row">
                  <input class="field" type="password" placeholder="Token admin" data-admin-token aria-label="Token de administracion" />
                  <button class="button compact" type="button" data-admin-connect>Conectar</button>
                </div>
              </div>
            </div>
          </details>
          <div class="admin-panels" data-admin-panels hidden>
            <details class="admin-section accordion-premium" data-admin-agenda-section open>
              <summary class="admin-summary accordion-summary" data-admin-agenda-summary>Agenda</summary>
              <div class="accordion-body">
                <div class="card admin-card">
                  <div class="label">Agenda</div>
                  <div class="note admin-subcopy">Reservas del dia.</div>
                  <input class="field" type="date" data-admin-date aria-label="Fecha agenda" />
                  <div class="note" data-admin-agenda-state aria-live="polite"></div>
                  <div class="booking-list admin-list admin-list--primary" data-admin-agenda-list role="list"></div>
                  <button class="button ghost" type="button" data-admin-agenda-retry disabled>Reintentar</button>
                </div>
              </div>
            </details>
            <details class="admin-section accordion-premium" data-admin-services-section>
              <summary class="admin-summary accordion-summary" data-admin-services-summary>Servicios</summary>
              <div class="accordion-body">
                <div class="card admin-card">
                  <div class="label">Servicios</div>
                  <div class="note admin-subcopy">Gestion diaria de servicios.</div>
                  <div class="note" data-admin-services-state aria-live="polite"></div>
                  <div class="booking-list admin-list admin-list--secondary" data-admin-services-list role="list"></div>
                  <div class="admin-form">
                    <input class="field" type="text" placeholder="Nombre del servicio" data-admin-service-name aria-label="Nombre del servicio" />
                    <input class="field" type="number" min="10" max="240" placeholder="Duracion (min)" data-admin-service-duration aria-label="Duracion del servicio en minutos" />
                    <label class="note admin-toggle admin-form-span">
                      <input type="checkbox" data-admin-service-active checked />
                      Activo
                    </label>
                    <div class="button-row admin-form-span">
                      <button class="button compact" type="button" data-admin-service-save>Guardar</button>
                      <button class="button ghost compact" type="button" data-admin-service-reset>Limpiar</button>
                    </div>
                    <div class="note admin-form-span" data-admin-services-message aria-live="polite"></div>
                  </div>
                  <button class="button ghost" type="button" data-admin-services-retry disabled>Reintentar</button>
                </div>
              </div>
            </details>
            <details class="admin-section accordion-premium" data-admin-users-section>
              <summary class="admin-summary accordion-summary" data-admin-users-summary>Usuarios</summary>
              <div class="accordion-body">
                <div class="card admin-card">
                  <div class="label">Usuarios</div>
                  <div class="note admin-subcopy">Listado de cuentas.</div>
                  <div class="note" data-admin-users-state aria-live="polite"></div>
                  <div class="booking-list admin-list admin-list--tertiary" data-admin-users-list role="list"></div>
                  <button class="button ghost" type="button" data-admin-users-retry disabled>Reintentar</button>
                </div>
              </div>
            </details>
          </div>
        </div>
      </section>
      <details class="panel system-panel accordion-premium" data-panel-health aria-busy="false">
        <summary class="system-summary accordion-summary">Estado del sistema</summary>
        <div class="system-body accordion-body">
          <p class="panel-copy">Diagnostico tecnico para soporte y QA.</p>
          <div class="status">
            <span class="dot" data-dot></span>
            <span data-state aria-live="polite">Loading</span>
          </div>
          <div class="grid">
            <div class="card">
              <div class="label">Environment</div>
              <div class="value" data-env>unknown</div>
            </div>
            <div class="card">
              <div class="label">Started</div>
              <div class="value" data-started>--</div>
            </div>
            <div class="card">
              <div class="label">Uptime (sec)</div>
              <div class="value" data-uptime>--</div>
            </div>
            <div class="card">
              <div class="label">DB</div>
              <div class="value" data-db>--</div>
            </div>
          </div>
          <footer class="footer">
            <span>Health URL: <strong data-api>--</strong></span>
          </footer>
        </div>
      </details>
      <footer class="footer footer--editorial">
        ATLAS &mdash; Obra creada por IAQUIZU &mdash; &copy; 2025 IAQUIZU &mdash; Todos los derechos reservados.
      </footer>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>

