<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ATLAS</title>
  </head>
  <body>
    <div id="app" class="app">
      <header class="hero">
        <div class="badge">ATLAS</div>
        <h1>Atlas</h1>
        <p class="subtitle">Reserva y gestiona tu agenda en calma.</p>
      </header>
      <section class="panel" id="booking-panel" data-panel-booking aria-busy="false">
        <div class="panel-title">Reservar</div>
        <p class="panel-copy">Sigue el flujo en tres pasos y confirma tu horario.</p>
        <div class="subsection" id="auth-panel" data-panel-auth aria-busy="false">
          <div class="subsection-title">Acceso</div>
          <div class="auth-grid">
            <div class="card">
              <div class="label">Email</div>
              <div class="auth-row">
                <input class="field" type="email" placeholder="demo@atlas.local" data-auth-email />
                <button class="button" type="button" data-auth-request>Enviar link</button>
              </div>
              <div class="note" data-auth-message aria-live="polite">--</div>
            </div>
            <div class="card">
              <div class="label">Sesion</div>
              <div class="value" data-auth-status>Sesion cerrada</div>
              <div class="note" data-auth-user aria-live="polite">--</div>
              <div class="button-row">
                <button class="button ghost" type="button" data-auth-refresh>Actualizar</button>
                <button class="button ghost" type="button" data-auth-logout>Cerrar sesion</button>
              </div>
            </div>
            <div class="card">
              <div class="label">Instrucciones</div>
              <div class="note" data-auth-helper aria-live="polite">Usa tu email para recibir un link.</div>
              <div class="devlink" data-auth-devlink hidden>
                <div class="auth-row devlink-row">
                  <input class="field" type="text" data-auth-devlink-input readonly />
                  <button class="button ghost" type="button" data-auth-devlink-copy>Copiar</button>
                  <button class="button" type="button" data-auth-devlink-open>Abrir</button>
                </div>
                <div class="note" data-auth-helper-extra aria-live="polite">Si el correo no llega, usa este acceso (DEV).</div>
              </div>
            </div>
          </div>
        </div>
        <div class="subsection">
          <div class="subsection-title">Tu horario</div>
          <div class="booking-grid">
          <div class="card">
            <div class="label">Paso 1: Servicio</div>
            <div class="note" data-services-state aria-live="polite">Cargando...</div>
            <select class="field" data-services-select aria-label="Selecciona un servicio" disabled>
              <option value="">Selecciona un servicio</option>
            </select>
            <div class="note" data-services-empty aria-live="polite">--</div>
            <button class="button ghost" type="button" data-services-retry disabled>Reintentar</button>
          </div>
          <div class="card">
            <div class="label">Paso 2: Fecha</div>
            <input class="field" type="date" data-booking-date aria-label="Selecciona una fecha" disabled />
            <div class="preset-row">
              <button class="button ghost preset-button" type="button" data-date-today>Hoy</button>
              <button class="button ghost preset-button" type="button" data-date-tomorrow>Manana</button>
              <button class="button ghost preset-button" type="button" data-date-week>Prox. 7 dias</button>
            </div>
            <div class="note" data-availability-state aria-live="polite">Selecciona servicio y fecha</div>
            <div class="slots slots-scroll" data-availability-slots></div>
            <button class="button ghost" type="button" data-availability-retry disabled>Reintentar</button>
          </div>
          <div class="card">
            <div class="label">Paso 3: Confirmar</div>
            <div class="confirm-box">
              <div class="note">Resumen</div>
              <div class="note" data-booking-summary aria-live="polite">Selecciona un horario</div>
              <div class="note" data-booking-message aria-live="polite">--</div>
            </div>
            <div class="confirm-actions">
              <button class="button" type="button" data-booking-confirm disabled>Confirmar reserva</button>
            </div>
            <div class="note" data-booking-confirmation aria-live="polite">--</div>
          </div>
          </div>
        </div>
      </section>
      <section class="panel" id="bookings-panel" data-panel-bookings aria-busy="false">
        <div class="panel-title">Mis reservas</div>
        <p class="panel-copy">Consulta tus reservas activas y tu historial en un vistazo.</p>
        <div class="note" data-bookings-state aria-live="polite">Cargando...</div>
        <div class="note" data-bookings-cta aria-live="polite">--</div>
        <div class="subsection-title">Activas</div>
        <div class="booking-list" data-bookings-active-list></div>
        <details class="history" data-bookings-history>
          <summary class="history-summary">Historial</summary>
          <div class="note" data-bookings-history-state aria-live="polite">--</div>
          <div class="booking-list history-list" data-bookings-history-list></div>
        </details>
        <button class="button ghost" type="button" data-bookings-retry disabled>Reintentar</button>
      </section>
      <section class="panel" id="admin-panel" data-panel-admin aria-busy="false">
        <div class="panel-header">
          <div>
            <div class="panel-title">Modo admin</div>
            <p class="panel-copy" data-admin-mode-note>Solo para administracion.</p>
          </div>
          <button class="button ghost" type="button" data-admin-mode-toggle>Activar modo admin</button>
        </div>
        <div class="admin-body" data-admin-body hidden>
          <div class="admin-access card">
            <div class="label">Acceso admin</div>
            <div class="note" data-admin-status aria-live="polite">Acceso restringido.</div>
            <div class="note" data-admin-access-note aria-live="polite">Solo para administracion.</div>
            <div class="auth-row">
              <input class="field" type="password" placeholder="Token admin" data-admin-token />
              <button class="button" type="button" data-admin-connect>Conectar</button>
            </div>
          </div>
          <div class="admin-panels" data-admin-panels hidden>
            <div class="admin-grid">
              <div class="card">
                <div class="label">Agenda</div>
                <div class="note">Vista diaria de reservas.</div>
                <input class="field" type="date" data-admin-date aria-label="Fecha agenda" />
                <div class="note" data-admin-agenda-state aria-live="polite">--</div>
                <div class="booking-list" data-admin-agenda-list></div>
                <button class="button ghost" type="button" data-admin-agenda-retry disabled>Reintentar</button>
              </div>
              <div class="card">
                <div class="label">Usuarios</div>
                <div class="note">Listado de usuarios activos.</div>
                <div class="note" data-admin-users-state aria-live="polite">--</div>
                <div class="booking-list" data-admin-users-list></div>
                <button class="button ghost" type="button" data-admin-users-retry disabled>Reintentar</button>
              </div>
              <div class="card">
                <div class="label">Servicios</div>
                <div class="note">Crea y ajusta servicios.</div>
                <div class="note" data-admin-services-state aria-live="polite">--</div>
                <div class="booking-list" data-admin-services-list></div>
                <div class="admin-form">
                  <input class="field" type="text" placeholder="Nombre del servicio" data-admin-service-name />
                  <input class="field" type="number" min="10" max="240" placeholder="Duracion (min)" data-admin-service-duration />
                  <label class="note admin-toggle">
                    <input type="checkbox" data-admin-service-active checked />
                    Activo
                  </label>
                  <div class="button-row">
                    <button class="button" type="button" data-admin-service-save>Guardar</button>
                    <button class="button ghost" type="button" data-admin-service-reset>Limpiar</button>
                  </div>
                  <div class="note" data-admin-services-message aria-live="polite">--</div>
                </div>
                <button class="button ghost" type="button" data-admin-services-retry disabled>Reintentar</button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <details class="panel system-panel" data-panel-health aria-busy="false">
        <summary class="system-summary">Estado del sistema</summary>
        <div class="system-body">
          <p class="panel-copy">Diagnostico tecnico para soporte y QA.</p>
          <div class="status">
            <span class="dot" data-dot></span>
            <span data-state aria-live="polite">Loading</span>
          </div>
          <div class="grid">
            <div class="card">
              <div class="label">Environment</div>
              <div class="value" data-env>unknown</div>
            </div>
            <div class="card">
              <div class="label">Started</div>
              <div class="value" data-started>--</div>
            </div>
            <div class="card">
              <div class="label">Uptime (sec)</div>
              <div class="value" data-uptime>--</div>
            </div>
            <div class="card">
              <div class="label">DB</div>
              <div class="value" data-db>--</div>
            </div>
          </div>
          <footer class="footer">
            <span>Health URL: <strong data-api>--</strong></span>
          </footer>
        </div>
      </details>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
